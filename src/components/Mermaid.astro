<script type="module" is:inline>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

  mermaid.initialize({
    startOnLoad: false,
    theme: getThemePreference() === "dark" ? "dark" : "forest",
    gantt: {
      titleTopMargin: 35,
      topPadding: 75,
      barHeight: 30,
      leftPadding: 100,
      rightPadding: 10,
      topAxis: true,
      gridLineStartPadding: 50,
    },
  });

  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid, pre[data-language="mermaid"]'),
  });
</script>
